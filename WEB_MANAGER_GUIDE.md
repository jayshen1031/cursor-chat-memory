# 🌐 Cursor Chat Memory Web 管理界面

一个功能丰富的Web界面，用于管理Cursor聊天记录和提示词中心。

## 🚀 快速启动

### 方法1: 使用启动脚本
```bash
./start_web.sh
```

### 方法2: 使用CLI命令
```bash
npm run compile
node out/cli.js web
```

### 方法3: 直接启动
```bash
npm run compile
PORT=3001 node out/webManager.js
```

## 🌐 访问地址

启动成功后，在浏览器中访问：
- **默认地址**: http://localhost:3001
- **自定义端口**: 设置 `PORT` 环境变量

## 📋 主要功能

### 1. 📋 历史会话管理
- **会话列表**: 查看所有Cursor聊天会话
- **搜索功能**: 按关键词搜索会话内容
- **分类筛选**: 按分类过滤会话
- **详情查看**: 查看会话完整内容和元数据
- **引用生成**: 直接从会话生成引用内容

#### 功能特点：
- 🔍 实时搜索，支持模糊匹配
- 🏷️ 智能分类标签显示
- ⭐ 重要性星级评分
- 📅 时间戳和活动记录
- 📋 一键复制会话内容

### 2. 🧠 提示词中心管理
- **模板列表**: 查看所有提示词模板
- **创建模板**: 在线创建新的提示词模板
- **编辑功能**: 修改现有提示词内容
- **搜索筛选**: 按类型和关键词搜索
- **使用统计**: 查看使用次数和评分

#### 支持的提示词类型：
- **全局知识** (global): 通用软件工程知识
- **项目经验** (project): 项目特定的经验总结
- **迭代记录** (iteration): 开发迭代的学习记录

#### 功能特点：
- ✏️ 在线编辑器，支持Markdown
- 🏷️ 标签和分类管理
- 📊 使用统计和评分系统
- 🔄 模板版本控制
- 💡 智能推荐相关模板

### 3. ⚡ 智能引用生成
- **上下文输入**: 输入问题或需求描述
- **模板选择**: 选择引用生成模板
- **智能推荐**: 获取相关会话和提示词推荐
- **增强引用**: 结合历史会话和提示词知识
- **一键复制**: 复制生成的引用内容

#### 可用模板：
- **最近会话** (recent): 最近的重要会话
- **当前主题** (current-topic): 与输入相关的主题
- **问题解决** (problem-solving): 问题解决经验
- **性能优化** (optimization): 性能优化相关
- **重要精选** (all-important): 高重要性精选

### 4. 📊 统计分析
- **会话统计**: 总数、分类分布、重要性分析
- **提示词统计**: 类型分布、使用频率、评分统计
- **分类分析**: 各分类的会话和提示词数量
- **趋势分析**: 使用趋势和活跃度统计

## 🎨 界面特色

### 现代化设计
- 🎨 渐变背景和毛玻璃效果
- 🌈 响应式设计，支持移动端
- ⚡ 流畅的动画和过渡效果
- 🎯 直观的用户交互体验

### 智能交互
- 🔄 实时数据更新
- 💡 智能推荐系统
- 🔍 快速搜索和筛选
- 📋 一键操作和复制

### 状态管理
- ✅ 成功操作提示
- ❌ 错误处理和提示
- ⏳ 加载状态指示
- 🔔 实时通知系统

## 🔧 API 接口

Web管理界面提供完整的REST API：

### 会话管理
- `GET /api/sessions` - 获取所有会话
- `POST /api/sessions/search` - 搜索会话
- `POST /api/sessions/recommendations` - 获取推荐会话
- `POST /api/sessions/reference` - 生成会话引用
- `POST /api/sessions/enhanced-reference` - 生成增强引用

### 提示词管理
- `GET /api/prompts` - 获取所有提示词
- `POST /api/prompts` - 创建新提示词
- `GET /api/prompts/{id}` - 获取特定提示词
- `PUT /api/prompts/{id}` - 更新提示词
- `DELETE /api/prompts/{id}` - 删除提示词
- `POST /api/prompts/search` - 搜索提示词
- `POST /api/prompts/recommendations` - 获取推荐提示词

## 🛠️ 技术架构

### 后端技术
- **Node.js + TypeScript**: 类型安全的服务端开发
- **HTTP Server**: 原生HTTP服务器，轻量高效
- **文件系统**: 基于JSON的数据持久化
- **CORS支持**: 跨域资源共享

### 前端技术
- **原生JavaScript**: 无框架依赖，轻量快速
- **CSS3**: 现代CSS特性，渐变和动画
- **响应式设计**: 适配各种屏幕尺寸
- **模块化架构**: 清晰的代码组织结构

### 数据管理
- **实时同步**: 与Cursor聊天数据实时同步
- **智能缓存**: 高效的数据缓存机制
- **增量更新**: 只更新变化的数据
- **错误恢复**: 自动错误检测和恢复

## 🔒 安全特性

- **本地运行**: 数据不离开本地环境
- **端口隔离**: 仅监听本地端口
- **CORS控制**: 严格的跨域访问控制
- **输入验证**: 完整的输入数据验证

## 🚀 性能优化

- **懒加载**: 按需加载数据和组件
- **虚拟滚动**: 大量数据的高效渲染
- **缓存策略**: 智能的数据缓存
- **压缩传输**: 数据压缩和优化传输

## 📱 移动端支持

- **响应式布局**: 自适应各种屏幕尺寸
- **触摸优化**: 针对触摸设备优化的交互
- **性能优化**: 移动端性能优化
- **离线支持**: 基本的离线功能支持

## 🔧 故障排除

### 常见问题

1. **端口被占用**
   ```bash
   # 查看占用端口的进程
   lsof -i :3001
   
   # 使用其他端口
   PORT=3002 node out/webManager.js
   ```

2. **编译失败**
   ```bash
   # 清理并重新编译
   rm -rf out/
   npm run compile
   ```

3. **数据不显示**
   - 检查Cursor聊天文件路径
   - 确认有聊天记录存在
   - 查看控制台错误信息

4. **API请求失败**
   - 检查服务器是否正常运行
   - 确认端口号正确
   - 查看网络连接状态

### 调试模式

启用详细日志：
```bash
DEBUG=* node out/webManager.js
```

## 🎯 使用建议

1. **定期备份**: 定期备份提示词模板和配置
2. **分类管理**: 合理使用分类和标签组织内容
3. **模板复用**: 创建可复用的提示词模板
4. **性能监控**: 关注系统性能和响应时间
5. **版本控制**: 对重要模板进行版本控制

## 🔄 更新日志

### v2.3.0 (当前版本)
- ✨ 新增Web管理界面
- 🧠 集成提示词中心管理
- ⚡ 智能引用生成功能
- 📊 统计分析面板
- 🎨 现代化UI设计
- 📱 响应式移动端支持

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进Web管理界面！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。 